# Using the breadcrumb

The breadcrumb is a nice way to indicate where a user is in the application.

## Manual breadcrumbs
Adding a breadcrumb is as simple as adding a `#[Breadcrumb()]` attribute.

breadcrumb: single
```php
#[Route('single', name:'single')]
#[Breadcrumb('single')]
public function __invoke(): Response
{
}
```

Adding multiple attributes wil chain the breadcrumb.

breadcrumb: single > multiple
```php
#[Route('/single/multiple', name:'multiple')]
#[Breadcrumb('single')]
#[Breadcrumb('multiple')]
public function __invoke(): Response
{
}
```

When needed a route can be added to the breadcrumb.

breadcrumb: [single](#) > multiple
```php
#[Route('/single/multiple', name:'multiple')]
#[Breadcrumb('single', route:['name' => 'single'])]
#[Breadcrumb('multiple')]
public function __invoke(): Response
{
}
```

## Automated breadcrumbs
A breadcrumb trail can be generated by passing the name of another route to the attribute.

The parent route **must have a breadcrumb attribute as well**, as the chain is built by parsing and resolving the attribute in the given parent route.
Parameters of the parent route are copied from the base route and the current URI.

breadcrumb: [books](#) > genres
```php
#[Route('/books', name:'books_overview')]
#[Breadcrumb('books')]
public function __invoke(): Response
{
}

#[Route('/books/genres', name:'genres_overview')]
#[Breadcrumb('genres', parent:['name' => 'books_overview'])]
public function __invoke(): Response
{
}
```

## Paramconverters
When param converters are used it's possible to use a property of the object as breadcrumb value.

breadcrumb: Books > Harry Potter
```php
#[Route('/book/{book}')]
#[Breadcrumb('books')]
#[Breadcrumb('{book.title}')]
public function __invoke(Book $book): Response
{
}
```

This also works with chained parent attributes, as long as the parameter names are present in the route.

breadcrumb: J.K. Rowling > Harry Potter
```php
#[Route('/{author}', name:'author_overview')]
#[Breadcrumb('{author.name}')]
public function __invoke(Author $author): Response
{
}

#[Route('/{author}/{book}', name:'book_overview')]
#[Breadcrumb('{book.title}', parent:['name' => 'author_overview'])]
public function __invoke(Author $author, Book $book): Response
{
}
```

The following structure will **not** work

```php
#[Route('/{author}', name:'author_overview')]
#[Breadcrumb('{author.name}')]
public function __invoke(Author $author): Response
{
}
// ! Note the missing /{author} in the route.
// ! You can only link to parent breadcrumbs if their parameters
// ! are still present in the route URL
#[Route('/{book}', name:'book_overview')]
#[Breadcrumb('{book.title}', parent:['name' => 'author_overview'])]
public function __invoke(Author $author, Book $book): Response
{
}
```

Custom ParamConverters are also **not** supported. By default, we only look for objects by ID.

## Translations
It's possible to use translations as these get translated in the template.

breadcrumb: Authors
```yaml
breadcrumb.authors: 'Authors'
```

```php
#[Route('/authors/{author}', name:'authors')]
#[Breadcrumb('breadcrumb.authors')]
public function book(Author $author): Response
{
}
```
